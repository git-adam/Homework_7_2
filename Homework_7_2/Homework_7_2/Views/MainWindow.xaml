<mah:MetroWindow x:Class="Homework_7_2.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:local="clr-namespace:Homework_7_2"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        Title="Kadry" Height="580" Width="940">
        

    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding LoadedWindowCommand}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal">

            <Button Command="{Binding AddEmployeeCommand}" Content="Dodaj" Width="100" Height="35" Margin="5"/>
            <Button Command="{Binding EditEmployeeCommand}" Content="Edytuj" Width="100" Height="35" Margin="5"/>
            <Button Command="{Binding DismissEmployeeCommand}" Content="Zwolnij" Width="100" Height="35" Margin="5"/>

            <ComboBox ItemsSource="{Binding Status}" SelectedValue="{Binding SelectedStatusId}" DisplayMemberPath="Name" SelectedValuePath="Id"  Width="150" Height="35" Margin="5"/>
            
            <Button Command="{Binding RefreshEmployeesCommand}" Content="Odśwież" Width="100" Height="35" Margin="5"/>
            <Button Command="{Binding ConnectionSettingsCommand}" Content="Ustawienia" Width="100" Height="35" Margin="5"/>
            <Button Command="{Binding LogOnCommand}" Content="Zaloguj/wyloguj" Width="120" Height="35" Margin="5" HorizontalAlignment="Right"/>
            <Button Width="50" Height="35" Margin="5">
                <Button.Content>
                    <StackPanel Orientation="Horizontal" >
                        <!--<Label Content="LOG OUT" />-->
                        <!--<Image Width="25" Source="https://wp.scoopwhoop.com/wp-content/uploads/2016/04/57206fe3fb77854982571985_583926332.jpg" />-->
                    </StackPanel>
                </Button.Content>
            </Button>
        </StackPanel>
        <DataGrid
            Grid.Row="1"
            Margin="5"
            ItemsSource="{Binding Employees}"
            SelectedItem="{Binding SelectedEmployee}"
            CanUserAddRows="False"
            IsReadOnly="True"
            SelectionMode="Single"
            AutoGenerateColumns="False">
            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding Id}" Header="Identyfikator" Visibility="Hidden"/>
                <DataGridTextColumn Binding="{Binding FirstName}" Header="Imię"/>
                <DataGridTextColumn Binding="{Binding LastName}" Header="Nazwisko"/>
                <DataGridTextColumn Binding="{Binding Number}" Header="Numer"/>
                <DataGridTextColumn Binding="{Binding HireDate}" Header="Data zatrudnienia"/>
                <DataGridTextColumn Binding="{Binding DismissDate}" Header="Data zwolnienia"/>
                <DataGridTextColumn Binding="{Binding Salary}" Header="Wypłata"/>
                <DataGridCheckBoxColumn Binding="{Binding Bonus}" Header="Premia"/>
                <DataGridTextColumn Binding="{Binding Status.Name}" Header="Status"/>
                <DataGridTextColumn Binding="{Binding Comments}" Header="Uwagi"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
        
</mah:MetroWindow>
